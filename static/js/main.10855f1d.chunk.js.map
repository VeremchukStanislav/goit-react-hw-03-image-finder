{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/images-api.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","previewURL","largeImageURL","onImageClick","onClick","src","ImageGallery","images","map","id","tags","webformatURL","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Button","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","children","App","isLoading","error","showModal","onChangeQuery","toggleModal","largeImgUrl","handleModal","fetchImages","options","imagesApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","PrevState","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.10855f1d.chunk.js","sourcesContent":["import { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","const ImageGalleryItem = ({ alt, previewURL, largeImageURL, onImageClick }) => (\r\n  <li className=\"ImageGalleryItem\" onClick={() => onImageClick(largeImageURL, alt)}>\r\n    <img src={previewURL} alt={alt} className=\"ImageGalleryItem-image\" />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../../components/ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        alt={tags}\r\n        previewURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        onImageClick={onImageClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;","import axios from 'axios';\r\n\r\nconst fetchImages = ({searchQuery = '', currentPage = 1, pageSize = 12}) => {\r\n  return axios\r\n    .get(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=21907274-5e9640005dddd1cbe205bab1c&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };","const Button = ({ onClick }) => (\r\n  <div>\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n// Components\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesApi from './services/images-api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    pageSize: 12,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, PrevState) {\n    if (PrevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n\n    if (this.state.showModal) {\n      this.setState({ largeImgUrl: '', alt: '' });\n    }\n  };\n\n  handleModal = (largeImgUrl, alt) => {\n    this.setState({ largeImgUrl: largeImgUrl, alt: alt });\n    this.toggleModal();\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage, pageSize } = this.state;\n\n    const options = { searchQuery, currentPage, pageSize };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: error }))\n      .finally(() =>\n        this.setState(\n          { isLoading: false },\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          }),\n        ),\n      );\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      showModal,\n      largeImgUrl,\n      alt,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h3 className=\"Error\">Search error:( Please try again!</h3>}\n        <ImageGallery images={images} onImageClick={this.handleModal} />\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"Oval\"\n            color=\"#3f51b5\"\n            height={50}\n            width={50}\n            timeout={1000}\n          />\n        )}\n        {(images.length && !isLoading) > 0 && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImgUrl} alt={alt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}